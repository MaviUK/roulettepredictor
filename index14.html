<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Roulette Fixed-Zone Predictor + Colour Streaks</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 1.5rem;
      background: #0b1020;
      color: #f5f5f5;
    }
    h1, h2, h3 { margin-top: 0; font-weight: 700; }
    h1 { font-size: 1.8rem; }
    h2 { font-size: 1.3rem; margin-top: 1.5rem; }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 3fr);
      gap: 1.5rem;
    }
    @media (max-width: 900px) { .container { grid-template-columns: 1fr; } }

    .card {
      background: #151a2c;
      border-radius: 14px;
      padding: 1.1rem 1.25rem;
      box-shadow: 0 14px 40px rgba(0,0,0,0.4);
      border: 1px solid rgba(255,255,255,0.04);
    }

    label { display: block; margin-bottom: 0.35rem; font-size: 0.9rem; }
    input, textarea {
      width: 100%;
      padding: 0.6rem;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.15);
      background: #0b1020;
      color: #fff;
    }

    .btn {
      padding: 0.55rem 0.9rem;
      border-radius: 999px;
      border: 0;
      cursor: pointer;
      font-weight: 600;
      margin-top: 0.4rem;
    }
    .btn-primary { background: #ff3366; color: #fff; }
    .btn-secondary { background: #232b49; color: #fff; }

    .section {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid rgba(255,255,255,0.1);
    }

    .list-inline {
      display: flex;
      flex-wrap: wrap;
      gap: 0.3rem;
      list-style: none;
      padding: 0;
    }
    .list-inline li {
      padding: 0.2rem 0.5rem;
      background: rgba(255,255,255,0.05);
      border-radius: 999px;
    }

    .stat-grid {
      display: grid;
      grid-template-columns: repeat(3,1fr);
      gap: 0.6rem;
    }
    .stat {
      background: rgba(255,255,255,0.05);
      padding: 0.5rem;
      border-radius: 8px;
    }
    .stat-label { font-size: 0.75rem; opacity: 0.7; }
    .stat-value { font-size: 1rem; font-weight: bold; }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.8rem;
    }
    th, td {
      padding: 0.35rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
  </style>
</head>
<body>

<h1>Roulette Fixed-Zone Predictor + Colour Streaks</h1>

<div class="container">

<!-- LIVE MODE -->
<div class="card">
  <h2>Live Mode</h2>

  <label>Enter Spin (0â€“36)</label>
  <input type="number" id="spinInput" min="0" max="36">
  <button class="btn btn-primary" id="addSpinBtn">Add Spin</button>
  <button class="btn btn-secondary" id="resetBtn">Reset</button>

  <div class="section">
    <h3>Recommendation</h3>
    <div id="recommendation">No data</div>
  </div>

  <div class="section">
    <h3>Stats</h3>
    <div class="stat-grid">
      <div class="stat"><div class="stat-label">Bets</div><div class="stat-value" id="bB">0</div></div>
      <div class="stat"><div class="stat-label">Wins</div><div class="stat-value" id="bW">0</div></div>
      <div class="stat"><div class="stat-label">Losses</div><div class="stat-value" id="bL">0</div></div>
      <div class="stat"><div class="stat-label">Profit</div><div class="stat-value" id="bP">0</div></div>
      <div class="stat"><div class="stat-label">Longest RED</div><div class="stat-value" id="lr">0</div></div>
      <div class="stat"><div class="stat-label">Longest BLACK</div><div class="stat-value" id="lb">0</div></div>
    </div>
  </div>
</div>

<!-- SIMULATOR -->
<div class="card">
  <h2>Simulator</h2>
  <textarea id="simInput" placeholder="Paste spins here"></textarea>
  <button class="btn btn-primary" id="runSim">Run</button>

  <div class="section" id="simOut"></div>
</div>

</div>

<script>
/* ---------- CONSTANTS ---------- */
const WHEEL = [0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26];
const IDX = {}; WHEEL.forEach((n,i)=>IDX[n]=i);
const HALF = 8;

const RED = new Set([1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36]);
const BLACK = new Set([2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35]);

/* ---------- HELPERS ---------- */
const neighbours = c => {
  let out=[];
  let i=IDX[c];
  for(let o=-HALF;o<=HALF;o++) out.push(WHEEL[(i+o+37)%37]);
  return out;
};

const colour = n => n===0 ? "G" : RED.has(n) ? "R" : "B";

const longestColourStreaks = spins => {
  let r=0,b=0,cr=0,cb=0;
  spins.forEach(n=>{
    if(colour(n)==="R"){cr++;cb=0;r=Math.max(r,cr);}
    else if(colour(n)==="B"){cb++;cr=0;b=Math.max(b,cb);}
    else {cr=cb=0;}
  });
  return {r,b};
};

const longestMiss = (spins,set)=>{
  let m=0,c=0;
  spins.forEach(n=>{
    if(set.has(n)) c=0;
    else {c++;m=Math.max(m,c);}
  });
  return m;
};

const bestZone = spins=>{
  let best=null;
  for(let c=0;c<=36;c++){
    let z=neighbours(c), s=new Set(z);
    let miss=longestMiss(spins,s);
    if(!best||miss<best.miss) best={c,z,s,miss};
  }
  return best;
};

/* ---------- LIVE ---------- */
let spins=[], bets=0,wins=0,losses=0,profit=0;
let last=null;

const update=()=>{
  document.getElementById("bB").textContent=bets;
  document.getElementById("bW").textContent=wins;
  document.getElementById("bL").textContent=losses;
  document.getElementById("bP").textContent=profit.toFixed(2);
  let cs=longestColourStreaks(spins);
  document.getElementById("lr").textContent=cs.r;
  document.getElementById("lb").textContent=cs.b;
};

const render=pred=>{
  let el=document.getElementById("recommendation");
  if(!pred){el.textContent="No data";return;}
  el.innerHTML=`Centre <b>${pred.c}</b><ul class="list-inline">${pred.z.map(n=>`<li>${n}</li>`).join("")}</ul>
  Worst miss run: ${pred.miss}`;
};

document.getElementById("addSpinBtn").onclick=()=>{
  let v=+spinInput.value;
  if(isNaN(v)||v<0||v>36) return;

  if(last){
    bets++;
    if(last.s.has(v)){wins++;profit+=19;}
    else{losses++;profit-=17;}
  }

  spins.push(v);
  last=bestZone(spins);
  render(last);
  update();
};

document.getElementById("resetBtn").onclick=()=>{
  spins=[];bets=wins=losses=profit=0;last=null;
  render(null);update();
};

/* ---------- SIM ---------- */
document.getElementById("runSim").onclick=()=>{
  let s=document.getElementById("simInput").value.split(/[\s,]+/).map(Number).filter(n=>n>=0&&n<=36);
  if(s.length<2) return;

  let z=bestZone(s), b=0,p=0;
  for(let i=1;i<s.length;i++){
    b++;
    if(z.s.has(s[i])) p+=19;
    else p-=17;
  }
  let cs=longestColourStreaks(s);
  document.getElementById("simOut").innerHTML=
    `Bets: ${b}<br>Profit: ${p.toFixed(2)}<br>
     Longest RED: ${cs.r}<br>Longest BLACK: ${cs.b}`;
};
</script>
</body>
</html>
